var t=Object.defineProperty,e=(e,s,i)=>((e,s,i)=>s in e?t(e,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[s]=i)(e,"symbol"!=typeof s?s+"":s,i);import{r as s,g as i}from"./phaser-CLYd3JIB.js";!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver((t=>{for(const s of t)if("childList"===s.type)for(const t of s.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)})).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?e.credentials="include":"anonymous"===t.crossOrigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();var n=s();const r=i(n),o=10,h=20,a=32,l=["#","@","%","*","+","=",";","·"],c=65365,d=[65535,16776960,14680319,43622,16711680,255,16766720],u=[[[[-2,0],[-1,0],[0,0],[1,0]],[[0,-1],[0,0],[0,1],[0,2]]],[[[0,0],[1,0],[0,1],[1,1]]],[[[-1,0],[0,0],[1,0],[0,1]],[[0,-1],[0,0],[1,0],[0,1]],[[0,-1],[-1,0],[0,0],[1,0]],[[0,-1],[0,0],[-1,0],[0,1]]],[[[0,0],[1,0],[-1,1],[0,1]],[[0,-1],[0,0],[1,0],[1,1]]],[[[-1,0],[0,0],[0,1],[1,1]],[[1,-1],[0,0],[1,0],[0,1]]],[[[-1,0],[0,0],[1,0],[-1,1]],[[0,-1],[0,0],[0,1],[1,1]],[[1,-1],[-1,0],[0,0],[1,0]],[[-1,-1],[0,-1],[0,0],[0,1]]],[[[-1,0],[0,0],[1,0],[1,1]],[[0,-1],[0,0],[0,1],[1,-1]],[[-1,-1],[-1,0],[0,0],[1,0]],[[-1,1],[0,-1],[0,0],[0,1]]]];function p(t){return Math.floor(Math.random()*t)}class f extends n.Scene{constructor(){super("Game"),e(this,"grid"),e(this,"graphics"),e(this,"lastDrop",0),e(this,"dropInterval",500),e(this,"cursors"),e(this,"holdKey"),e(this,"hold",null),e(this,"holdUsed",!1),e(this,"current",null),e(this,"score",0),e(this,"lines",0),e(this,"level",1),e(this,"gameOver",!1),e(this,"gameOverText",null),e(this,"clearingLines",!1),e(this,"clearingLinesRows",[]),e(this,"clearingLinesStart",0),e(this,"clearingLinesFlashDuration",320),e(this,"clearingLineCellDelays",[]),e(this,"holdText"),e(this,"controlsText"),e(this,"holdEmptyText"),e(this,"nextEmptyText"),e(this,"hudFont","monospace"),e(this,"hudX",0),e(this,"hudW",220),e(this,"nextShape",null),e(this,"tetrisEffectActive",!1),e(this,"tetrisEffectEnd",0),e(this,"tetrisFlashStart",0),e(this,"tetrisBannerEl",null),e(this,"tetrisBannerHideTimer",null),this.grid=Array.from({length:h},(()=>Array.from({length:o},(()=>null))))}init(t){t&&"number"==typeof t.startLevel&&(this.level=Math.max(1,Math.floor(t.startLevel)),this.dropInterval=Math.max(100,500-40*(this.level-1)))}create(){this.graphics=this.add.graphics(),this.input.keyboard&&(this.cursors=this.input.keyboard.addKeys({left:Phaser.Input.Keyboard.KeyCodes.LEFT,right:Phaser.Input.Keyboard.KeyCodes.RIGHT,down:Phaser.Input.Keyboard.KeyCodes.DOWN,up:Phaser.Input.Keyboard.KeyCodes.UP,space:Phaser.Input.Keyboard.KeyCodes.SPACE}),this.holdKey=this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.C)),this.spawnPiece(),this.createHUD(),this.input.keyboard&&(this.input.keyboard.on("keydown-UP",(()=>{this.rotatePiece()})),this.input.keyboard.on("keydown-SPACE",(()=>{this.hardDrop()})),this.input.keyboard.on("keydown-C",(()=>{this.holdPiece()})),this.input.keyboard.on("keydown-ESC",(()=>{this.gameOver||(this.scene.pause(),this.scene.launch("PauseScene"))})));const t=document.getElementById("hud-restart-btn");t&&t.addEventListener("click",(()=>{this.restart()}))}holdPiece(){if(this.gameOver)return;if(!this.current)return;if(this.holdUsed)return;const t=this.current.shape;if(this.hold){const e=this.hold.shape;this.hold={shape:t,color:this.current.color};const s=0,i=u[e][s],n=Math.floor(5),r=-2,o=d[e%d.length];this.current={shape:e,rot:s,x:n,y:r,cells:i,color:o},this.holdUsed=!0}else this.hold={shape:t,color:this.current.color},this.holdUsed=!0,this.spawnPiece()}update(t){if(!this.gameOver){if(this.clearingLines)return this.updateLineClearAnimation(t),void this.render();Phaser.Input.Keyboard.JustDown(this.cursors.left)&&this.movePiece(-1),Phaser.Input.Keyboard.JustDown(this.cursors.right)&&this.movePiece(1),this.cursors.down.isDown&&t-this.lastDrop>50&&(this.stepDown(),this.lastDrop=t),t-this.lastDrop>this.dropInterval&&(this.stepDown(),this.lastDrop=t),this.render()}}spawnPiece(){this.holdUsed=!1;const t=null!==this.nextShape&&void 0!==this.nextShape?this.nextShape:p(u.length),e=u[t][0],s=Math.floor(5),i=d[t%d.length];this.current={shape:t,rot:0,x:s,y:-2,cells:e,color:i},this.nextShape=p(u.length),this.collides(this.current,0,0)&&this.endGame()}rotatePiece(){if(!this.current)return;const t=u[this.current.shape],e=(this.current.rot+1)%t.length,s=t[e],i={...this.current,rot:e,cells:s};this.collides(i,0,0)||(this.current.rot=e,this.current.cells=s)}movePiece(t){this.current&&(this.collides(this.current,t,0)||(this.current.x+=t))}stepDown(){this.current&&(this.collides(this.current,0,1)?this.lockPiece():this.current.y+=1)}hardDrop(){if(this.current){for(;!this.collides(this.current,0,1);)this.current.y+=1,this.score+=2;this.lockPiece()}}collides(t,e,s){for(const i of t.cells){const n=t.x+i[0]+e,r=t.y+i[1]+s;if(n<0||n>=o)return!0;if(r>=h)return!0;if(r>=0&&this.grid[r][n])return!0}return!1}lockPiece(){if(!this.current)return;let t=!1;for(const e of this.current.cells){const s=this.current.x+e[0],i=this.current.y+e[1];i<0&&(t=!0),i>=0&&i<h&&s>=0&&s<o&&(this.grid[i][s]=this.current.color)}this.current=null,this.clearLines(),t?this.endGame():this.clearingLines||this.spawnPiece()}clearLines(){const t=[];for(let s=0;s<h;s++){let e=0;for(let t=0;t<o;t++)null!==this.grid[s][t]&&e++;e===o&&t.push(s)}if(0===t.length)return;t.sort(((t,e)=>e-t)),window.DEBUG_TETRIS&&console.log("[TETRIS] Lines full (detected):",t.slice().reverse().join(","));const e=4===t.length;this.clearingLines=!0,this.clearingLinesRows=t.slice().reverse(),this.clearingLinesStart=this.time.now,this.clearingLineCellDelays=this.clearingLinesRows.map((t=>({row:t,delays:Array.from({length:o},(()=>Phaser.Math.Between(0,60)))}))),e&&this.triggerTetrisEffect()}updateLineClearAnimation(t){if(!this.clearingLines)return;const e=this.time.now;let s=!0,i=0;for(const n of this.clearingLineCellDelays)for(let t=0;t<o;t++){const r=this.clearingLinesStart+n.delays[t]+110;r>i&&(i=r),e<r&&(s=!1)}if(s&&e>=i+40){const t=this.clearingLinesRows.slice().sort(((t,e)=>e-t)),e=t.length;for(const n of t)this.grid.splice(n,1);for(let n=0;n<e;n++)this.grid.unshift(Array.from({length:o},(()=>null)));const s=e;this.lines+=s;const i=[0,100,300,500,800];this.score+=i[s]??100*s,this.level=Math.floor(this.lines/10)+1,this.dropInterval=Math.max(100,500-40*(this.level-1)),this.clearingLines=!1,this.clearingLinesRows=[],this.clearingLineCellDelays=[],this.spawnPiece()}}triggerTetrisEffect(){var t;const e=this.time.now;this.tetrisEffectActive=!0,this.tetrisEffectEnd=e+600,this.tetrisFlashStart=e,(null==(t=this.cameras)?void 0:t.main)&&this.cameras.main.shake(180,.004),this.showTetrisBanner()}endGame(){this.gameOver=!0;const t=document.getElementById("hud-gameover"),e=document.getElementById("hud-restart-btn");t&&(t.style.display="block",t.setAttribute("aria-hidden","false")),e&&(e.style.display="inline-block")}restart(){const t=document.getElementById("hud-gameover"),e=document.getElementById("hud-restart-btn");t&&(t.style.display="none",t.setAttribute("aria-hidden","true")),e&&(e.style.display="none"),this.gameOver=!1,this.score=0,this.lines=0,this.level=1,this.dropInterval=500,this.grid=Array.from({length:h},(()=>Array.from({length:o},(()=>null))));const s=document.getElementById("hud-score");s&&(s.innerText="0");const i=document.getElementById("hud-info");i&&(i.innerHTML="LINES: 0<br>LEVEL: 1");const n=document.getElementById("hud-hold-preview");n&&(n.innerHTML=""),this.hold=null,this.tetrisBannerEl&&(this.tetrisBannerEl.style.display="none"),this.tetrisBannerHideTimer&&(window.clearTimeout(this.tetrisBannerHideTimer),this.tetrisBannerHideTimer=null),this.spawnPiece()}render(){const t=Math.floor((this.scale.width-320)/2),e=Math.floor((this.scale.height-640)/2);this.graphics.clear(),this.graphics.fillStyle(4352,1),this.graphics.fillRect(t-4,e-4,328,648),this.graphics.lineStyle(1,13056,.4);for(let n=0;n<=o;n++){const s=t+n*a;this.graphics.beginPath(),this.graphics.moveTo(s,e),this.graphics.lineTo(s,e+640),this.graphics.strokePath()}for(let n=0;n<=h;n++){const s=e+n*a;this.graphics.beginPath(),this.graphics.moveTo(t,s),this.graphics.lineTo(t+320,s),this.graphics.strokePath()}const s=this.clearingLines&&4===this.clearingLinesRows.length,i=!s&&this.clearingLines?new Set(this.clearingLinesRows):null;for(let n=0;n<h;n++){const r=!!s||!!i&&i.has(n);for(let s=0;s<o;s++){const i=this.grid[n][s];i&&this.drawCell(t,e,s,n,r?c:i)}}if(this.clearingLines&&this.clearingLineCellDelays.length){const s=this.time.now;for(const i of this.clearingLineCellDelays){const n=i.row,r=e+n*a+1;for(let e=0;e<o;e++){const o=s-(this.clearingLinesStart+i.delays[e]);if(o<0)continue;const h=Math.min(1,o/110),d=t+e*a+1,u=r,p=30,f=.85*(1-h)+.15;this.graphics.fillStyle(8704,f),this.graphics.fillRect(d,u,p,p);const m=Math.max(1,6-Math.floor(6*h));for(let t=0;t<m;t++){const t=Phaser.Math.Between(3,6),e=Phaser.Math.Between(2,5),s=d+Phaser.Math.Between(3,p-t-3),i=u+Phaser.Math.Between(3,p-e-3),n=(1-h)*Phaser.Math.FloatBetween(.55,1);this.graphics.fillStyle(c,n),this.graphics.fillRect(s,i,t,e)}if(h<1){const t=1+(e+n+Math.floor(s/80))%l.length%3,i=.6*(1-h)+.2;this.graphics.fillStyle(c,i);for(let e=0;e<t;e++){const t=d+3+4*e;this.graphics.fillRect(t,u+3,2,p-6)}}}}}if(this.current)for(const n of this.current.cells){const r=this.current.x+n[0],o=this.current.y+n[1];if(o>=0){const n=!!s||!!i&&i.has(o);this.drawCell(t,e,r,o,n?c:this.current.color)}}if(this.tetrisEffectActive){const s=this.time.now;if(s>this.tetrisEffectEnd)this.tetrisEffectActive=!1;else{const i=(s-this.tetrisFlashStart)/(this.tetrisEffectEnd-this.tetrisFlashStart),n=Math.max(0,.75-.85*i);n>.04&&(this.graphics.fillStyle(c,.35*n),this.graphics.fillRect(t-6,e-6,332,652));const r=.1+.15*Math.sin(s/50);this.graphics.fillStyle(13056,r);for(let s=0;s<h;s+=2){const i=e+s*a;this.graphics.fillRect(t,i,320,2)}const o=.4+.4*Math.sin(s/70);this.graphics.lineStyle(3,c,o),this.graphics.strokeRect(t-4,e-4,328,648)}}this.updateHudDom()}createHUD(){this.hudW=220,this.hudX=Math.floor(this.scale.width-this.hudW-24)}updateHUDValues(){}drawHUD(){}drawPreviewSmall(t,e,s,i,n){const r=u[s][0];let o=1/0,h=-1/0,a=1/0,l=-1/0;for(const u of r)o=Math.min(o,u[0]),h=Math.max(h,u[0]),a=Math.min(a,u[1]),l=Math.max(l,u[1]);const c=(h-o+1)*n,d=(l-a+1)*n,p=Math.floor((this.hudW-32-c)/2),f=Math.floor((60-d)/2);for(const u of r){const s=t+p+(u[0]-o)*n,r=e+f+(u[1]-a)*n;this.graphics.fillStyle(i,1),this.graphics.fillRect(s,r,n-2,n-2);const h=Phaser.Display.Color.GetColor(Math.floor(.25*(i>>16&255)),Math.floor(.25*(i>>8&255)),Math.floor(.25*(255&i)));this.graphics.fillStyle(h,1),this.graphics.fillRect(s+3,r+3,n-8,n-8)}}updateHudDom(){const t=document.getElementById("hud-score"),e=document.getElementById("hud-info"),s=document.getElementById("hud-bar-fill");t&&(t.innerText=String(this.score)),e&&(e.innerHTML=`LINES: ${this.lines}<br>LEVEL: ${this.level}`),s&&(s.style.width=`${Math.floor(this.lines%10/10*100)}%`);const i=document.getElementById("hud-hold-preview");i&&(i.innerHTML="",this.hold?this.renderPreviewDom(i,this.hold.shape,this.hold.color):i.innerText="Empty");const n=document.getElementById("hud-next-preview");if(n){n.innerHTML="";const t=null!==this.nextShape&&void 0!==this.nextShape?this.nextShape:this.current?(this.current.shape+1)%u.length:0,e=d[t%d.length];this.renderPreviewDom(n,t,e)}}renderPreviewDom(t,e,s){const i=u[e][0];let n=1/0,r=-1/0,o=1/0,h=-1/0;for(const u of i)n=Math.min(n,u[0]),r=Math.max(r,u[0]),o=Math.min(o,u[1]),h=Math.max(h,u[1]);const a=r-n+1,l=h-o+1,c=document.getElementById("hud")||t;let d=window.getComputedStyle(c).getPropertyValue("--preview-tile")||"16px";d=d.trim();let p=16;if(d.endsWith("px"))p=parseInt(d.replace("px",""),10)||16;else{const t=parseInt(d,10);Number.isNaN(t)||(p=t)}const f=Math.max(2,Math.round(.125*p));t.style.display="grid",t.style.gridTemplateColumns=`repeat(${a}, ${p}px)`,t.style.gridAutoRows=`${p}px`,t.style.gap=`${f}px`;for(let u=0;u<l;u++)for(let e=0;e<a;e++){const e=document.createElement("div");e.style.width=`${p}px`,e.style.height=`${p}px`,e.style.background="transparent",t.appendChild(e)}for(const u of i){const e=u[0]-n,i=(u[1]-o)*a+e,r=t.children[i],h="#"+("000000"+s.toString(16)).slice(-6);r.style.background=h;const l=Math.max(4,Math.round(.4*p));r.style.boxShadow=`0 0 ${l}px ${h}`}}setHudFont(t){this.hudFont=t;const e=document.getElementById("hud");e&&(e.style.fontFamily=t)}drawCell(t,e,s,i,n){const r=t+s*a+1,o=e+i*a+1,h=n>>16&255,l=n>>8&255,c=255&n,d=Phaser.Display.Color.GetColor(Math.min(255,Math.floor(1.2*h)),Math.min(255,Math.floor(1.2*l)),Math.min(255,Math.floor(1.2*c))),u=Phaser.Display.Color.GetColor(Math.max(0,Math.floor(.25*h)),Math.max(0,Math.floor(.25*l)),Math.max(0,Math.floor(.25*c)));this.graphics.fillStyle(n,1),this.graphics.fillRect(r,o,30,30),this.graphics.fillStyle(u,1),this.graphics.fillRect(r+4,o+4,22,22),this.graphics.lineStyle(2,d,.8),this.graphics.strokeRect(r,o,30,30)}ensureTetrisBanner(){if(this.tetrisBannerEl&&document.body.contains(this.tetrisBannerEl))return this.tetrisBannerEl;if(!document.getElementById("tetris-flash-style")){const t=document.createElement("style");t.id="tetris-flash-style",t.textContent="@keyframes tetrisFlash {0%,45%{opacity:1;} 50%,95%{opacity:0;} 100%{opacity:1;}}",document.head.appendChild(t)}const t=document.getElementById("hud")||document.body,e=document.createElement("div");return e.id="hud-tetris-banner",e.textContent="TETRIS!",e.style.position="absolute",e.style.top="8px",e.style.left="50%",e.style.transform="translateX(-50%)",e.style.padding="4px 12px",e.style.fontFamily="monospace",e.style.fontWeight="700",e.style.letterSpacing="2px",e.style.background="rgba(0,32,0,0.55)",e.style.border="1px solid #00ff55",e.style.borderRadius="4px",e.style.textShadow="0 0 6px #00ff55, 0 0 12px #00ff55",e.style.boxShadow="0 0 10px #00ff55 inset, 0 0 12px #00ff55",e.style.color="#00ff55",e.style.fontSize="20px",e.style.animation="tetrisFlash 180ms steps(1) infinite",e.style.pointerEvents="none",e.style.display="none",t&&"static"===getComputedStyle(t).position&&(t.style.position="relative"),t.appendChild(e),this.tetrisBannerEl=e,e}showTetrisBanner(){const t=this.ensureTetrisBanner();t.style.display="block",t.style.opacity="1",this.tetrisBannerHideTimer&&window.clearTimeout(this.tetrisBannerHideTimer),this.tetrisBannerHideTimer=window.setTimeout((()=>{t.style.display="none",this.tetrisBannerHideTimer=null}),1500)}}class m extends r.Scene{constructor(){super({key:"StartScene"})}create(){var t,e,s;const{width:i,height:n}=this.scale;let r=1;this.add.rectangle(0,0,i,n,0,.85).setOrigin(0);const o=this.add.text(0,0,["                                           ","       ___       _      _                  ","      |_ _|_ __ (_) ___(_) __ _ _ __       ","       | || '_ \\| |/ __| |/ _` | '__|      ","       | || | | | | (__| | (_| | |         ","      |___|_| |_|_|\\___|_|\\__,_|_|         ","                                           ",""].join("\n"),{fontFamily:"monospace",fontSize:"14px",color:"#00ff6a",align:"left",shadow:{offsetX:1,offsetY:1,color:"#001100",blur:0,stroke:!0,fill:!0}}).setOrigin(.5).setStroke("#002200",1),h=Math.max(56,o.height+24),a=i/2,l=.52*n;o.setPosition(a,l).setDepth(2),o.setInteractive({useHandCursor:!0});const c=this.add.rectangle(a,l,Math.max(180,o.width+28),h,0,0).setOrigin(.5).setDepth(1);c.setDepth(o.depth-1),o.on("pointerover",(()=>{o.setColor("#b7ffbf"),c.setFillStyle(0,.45)})),o.on("pointerout",(()=>{o.setColor("#00ff6a"),c.setFillStyle(0,0)}));const d=()=>{this.tweens.addCounter({from:0,to:1,duration:140,ease:"Cubic.easeOut",onStart:()=>{this.tweens.add({targets:o,scaleX:1.06,scaleY:1.06,duration:90,yoyo:!0,ease:"Sine.easeOut"})},onUpdate:t=>{const e=t.getValue();(null==e?0:Number(e))>.5&&o.setColor("#ffffff")},onComplete:()=>{this.scene.start("Game",{startLevel:r})}})};o.on("pointerdown",d),this.add.text(i/2,.75*n,"Pressione ESPAÇO para iniciar",{fontFamily:"Courier New, monospace",fontSize:"14px",color:"#00ff6a"}).setOrigin(.5),null==(t=this.input.keyboard)||t.on("keydown-SPACE",(()=>{d()})),this.tweens.add({targets:o,scaleX:1.02,scaleY:1.02,yoyo:!0,repeat:-1,duration:600,ease:"Sine.easeInOut"}),this.add.text(i/2,.18*n,["████████╗███████╗████████╗██████╗ ██╗███████╗","╚══██╔══╝██╔════╝╚══██╔══╝██╔══██╗██║██╔════╝","   ██║   █████╗     ██║   ██████╔╝██║███████╗","   ██║   ██╔══╝     ██║   ██╔══██╗██║╚════██║","   ██║   ███████╗   ██║   ██║  ██║██║███████║","   ╚═╝   ╚══════╝   ╚═╝   ╚═╝  ╚═╝╚═╝╚══════╝"].join("\n"),{fontFamily:"monospace",fontSize:"10px",color:"#00ff6a",align:"center"}).setOrigin(.5);const u=this.add.text(i/2,l+h+28,`Nível: ${r}`,{fontFamily:"monospace",fontSize:"18px",color:"#00ff6a"}).setOrigin(.5);null==(e=this.input.keyboard)||e.on("keydown-LEFT",(()=>{r=Math.max(1,r-1),u.setText(`Nível: ${r}`)})),null==(s=this.input.keyboard)||s.on("keydown-RIGHT",(()=>{r=Math.min(10,r+1),u.setText(`Nível: ${r}`)})),u.setInteractive({useHandCursor:!0}),u.on("pointerdown",(()=>{r=r%10+1,u.setText(`Nível: ${r}`)}))}}class y extends r.Scene{constructor(){super({key:"PauseScene"})}create(){var t,e,s,i;const{width:n,height:r}=this.scale;this.add.rectangle(0,0,n,r,0,.65).setOrigin(0).setDepth(0),this.add.text(n/2,.28*r,"PAUSA",{fontFamily:"Courier New, monospace",fontSize:"28px",color:"#00ff6a"}).setOrigin(.5).setDepth(1);const o=this.add.text(n/2,.45*r,"Retomar (R)",{fontFamily:"Courier New, monospace",fontSize:"18px",color:"#88ff99"}).setOrigin(.5).setDepth(1).setInteractive({useHandCursor:!0}),h=this.add.text(n/2,.55*r,"Reiniciar (N)",{fontFamily:"Courier New, monospace",fontSize:"18px",color:"#88ff99"}).setOrigin(.5).setDepth(1).setInteractive({useHandCursor:!0}),a=this.add.text(n/2,.65*r,"Voltar ao Menu (Q)",{fontFamily:"Courier New, monospace",fontSize:"18px",color:"#ff6a6a"}).setOrigin(.5).setDepth(1).setInteractive({useHandCursor:!0});o.on("pointerdown",(()=>this.resumeGame())),h.on("pointerdown",(()=>this.restartGame())),a.on("pointerdown",(()=>this.quitToMenu())),null==(t=this.input.keyboard)||t.on("keydown-R",(()=>this.resumeGame())),null==(e=this.input.keyboard)||e.on("keydown-N",(()=>this.restartGame())),null==(s=this.input.keyboard)||s.on("keydown-Q",(()=>this.quitToMenu())),null==(i=this.input.keyboard)||i.on("keydown-ESC",(()=>this.resumeGame()))}resumeGame(){this.scene.isPaused("Game")&&this.scene.resume("Game"),this.scene.stop()}restartGame(){const t=this.scene.get("Game");if(t&&"function"==typeof t.restart){this.scene.isPaused("Game")&&this.scene.resume("Game");try{t.restart()}catch(e){(this.scene.isActive("Game")||this.scene.isPaused("Game"))&&this.scene.stop("Game"),this.scene.start("Game")}}else(this.scene.isActive("Game")||this.scene.isPaused("Game"))&&this.scene.stop("Game"),this.scene.start("Game");this.scene.stop()}quitToMenu(){this.scene.stop("Game"),this.scene.start("StartScene"),this.scene.stop()}}const g={type:n.AUTO,width:328,height:648,parent:"game-container",backgroundColor:"#000000",scale:{mode:n.Scale.NONE,autoCenter:n.Scale.CENTER_BOTH},scene:[m,f,y]};document.addEventListener("DOMContentLoaded",(()=>{new n.Game({...g,parent:"game-container"})}));
